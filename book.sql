-- MySQL dump 10.13  Distrib 8.3.0, for macos14 (arm64)
--
-- Host: localhost    Database: books
-- ------------------------------------------------------
-- Server version	8.3.0

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Current Database: `books`
--

CREATE DATABASE /*!32312 IF NOT EXISTS*/ `books` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;

USE `books`;

--
-- Table structure for table `BOOK`
--

DROP TABLE IF EXISTS `BOOK`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `BOOK` (
  `BOOK_ID` int NOT NULL,
  `TITLE` varchar(20) DEFAULT NULL,
  `PUB_YEAR` date DEFAULT NULL,
  `PUBLISHER_NAME` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`BOOK_ID`),
  KEY `PUBLISHER_NAME` (`PUBLISHER_NAME`),
  CONSTRAINT `book_ibfk_1` FOREIGN KEY (`PUBLISHER_NAME`) REFERENCES `PUBLISHER` (`NAME`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `BOOK`
--

LOCK TABLES `BOOK` WRITE;
/*!40000 ALTER TABLE `BOOK` DISABLE KEYS */;
INSERT INTO `BOOK` VALUES (1,'DBMS','2017-01-01','MCGRAW-HILL'),(2,'ADBMS','2016-06-01','MCGRAW-HILL'),(3,'CD','2016-09-01','PEARSON'),(4,'ALGORITHMS','2015-09-01','MIT'),(5,'OS','2016-05-01','PEARSON');
/*!40000 ALTER TABLE `BOOK` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `BOOK_AUTHORS`
--

DROP TABLE IF EXISTS `BOOK_AUTHORS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `BOOK_AUTHORS` (
  `AUTHOR_NAME` varchar(20) NOT NULL,
  `BOOK_ID` int NOT NULL,
  PRIMARY KEY (`BOOK_ID`,`AUTHOR_NAME`),
  CONSTRAINT `book_authors_ibfk_1` FOREIGN KEY (`BOOK_ID`) REFERENCES `BOOK` (`BOOK_ID`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `BOOK_AUTHORS`
--

LOCK TABLES `BOOK_AUTHORS` WRITE;
/*!40000 ALTER TABLE `BOOK_AUTHORS` DISABLE KEYS */;
INSERT INTO `BOOK_AUTHORS` VALUES ('NAVATHE',1),('NAVATHE',2),('ULLMAN',3),('CHARLES',4),('GALVIN',5);
/*!40000 ALTER TABLE `BOOK_AUTHORS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `BOOK_COPIES`
--

DROP TABLE IF EXISTS `BOOK_COPIES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `BOOK_COPIES` (
  `NO_OF_COPIES` int DEFAULT NULL,
  `BOOK_ID` int NOT NULL,
  `PROGRAMME_ID` int NOT NULL,
  PRIMARY KEY (`BOOK_ID`,`PROGRAMME_ID`),
  KEY `PROGRAMME_ID` (`PROGRAMME_ID`),
  CONSTRAINT `book_copies_ibfk_1` FOREIGN KEY (`BOOK_ID`) REFERENCES `BOOK` (`BOOK_ID`) ON DELETE CASCADE,
  CONSTRAINT `book_copies_ibfk_2` FOREIGN KEY (`PROGRAMME_ID`) REFERENCES `LIBRARY_PROGRAMME` (`PROGRAMME_ID`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `BOOK_COPIES`
--

LOCK TABLES `BOOK_COPIES` WRITE;
/*!40000 ALTER TABLE `BOOK_COPIES` DISABLE KEYS */;
INSERT INTO `BOOK_COPIES` VALUES (10,1,10),(5,1,11),(2,2,12),(5,2,13),(7,3,14),(3,4,11),(1,5,10);
/*!40000 ALTER TABLE `BOOK_COPIES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `BOOK_LENDING`
--

DROP TABLE IF EXISTS `BOOK_LENDING`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `BOOK_LENDING` (
  `DATE_OUT` date DEFAULT NULL,
  `DUE_DATE` date DEFAULT NULL,
  `BOOK_ID` int NOT NULL,
  `PROGRAMME_ID` int NOT NULL,
  `CARD_NO` int NOT NULL,
  PRIMARY KEY (`BOOK_ID`,`PROGRAMME_ID`,`CARD_NO`),
  KEY `PROGRAMME_ID` (`PROGRAMME_ID`),
  KEY `CARD_NO` (`CARD_NO`),
  CONSTRAINT `book_lending_ibfk_1` FOREIGN KEY (`BOOK_ID`) REFERENCES `BOOK` (`BOOK_ID`) ON DELETE CASCADE,
  CONSTRAINT `book_lending_ibfk_2` FOREIGN KEY (`PROGRAMME_ID`) REFERENCES `LIBRARY_PROGRAMME` (`PROGRAMME_ID`) ON DELETE CASCADE,
  CONSTRAINT `book_lending_ibfk_3` FOREIGN KEY (`CARD_NO`) REFERENCES `CARD` (`CARD_NO`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `BOOK_LENDING`
--

LOCK TABLES `BOOK_LENDING` WRITE;
/*!40000 ALTER TABLE `BOOK_LENDING` DISABLE KEYS */;
INSERT INTO `BOOK_LENDING` VALUES ('2017-01-01','2017-06-01',1,10,101),('2017-04-12','2017-05-12',1,11,104),('2017-02-21','2017-04-21',2,13,101),('2017-01-11','2017-03-11',3,14,101),('2017-03-15','2017-07-15',4,11,101);
/*!40000 ALTER TABLE `BOOK_LENDING` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CARD`
--

DROP TABLE IF EXISTS `CARD`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CARD` (
  `CARD_NO` int NOT NULL,
  PRIMARY KEY (`CARD_NO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CARD`
--

LOCK TABLES `CARD` WRITE;
/*!40000 ALTER TABLE `CARD` DISABLE KEYS */;
INSERT INTO `CARD` VALUES (100),(101),(102),(103),(104);
/*!40000 ALTER TABLE `CARD` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `LIBRARY_PROGRAMME`
--

DROP TABLE IF EXISTS `LIBRARY_PROGRAMME`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `LIBRARY_PROGRAMME` (
  `PROGRAMME_ID` int NOT NULL,
  `PROGRAMME_NAME` varchar(50) DEFAULT NULL,
  `ADDRESS` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`PROGRAMME_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `LIBRARY_PROGRAMME`
--

LOCK TABLES `LIBRARY_PROGRAMME` WRITE;
/*!40000 ALTER TABLE `LIBRARY_PROGRAMME` DISABLE KEYS */;
INSERT INTO `LIBRARY_PROGRAMME` VALUES (10,'VIJAY NAGAR','MYSURU'),(11,'VIDYANAGAR','HUBLI'),(12,'KUVEMPUNAGAR','MYSURU'),(13,'RAJAJINAGAR','BANGALORE'),(14,'MANIPAL','UDUPI');
/*!40000 ALTER TABLE `LIBRARY_PROGRAMME` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PUBLISHER`
--

DROP TABLE IF EXISTS `PUBLISHER`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PUBLISHER` (
  `NAME` varchar(20) NOT NULL,
  `PHONE` varchar(20) DEFAULT NULL,
  `ADDRESS` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PUBLISHER`
--

LOCK TABLES `PUBLISHER` WRITE;
/*!40000 ALTER TABLE `PUBLISHER` DISABLE KEYS */;
INSERT INTO `PUBLISHER` VALUES ('MCGRAW-HILL','989076587','BANGALORE'),('MIT','7756120238','BANGALORE'),('PEARSON','9889076565','NEWDELHI'),('PRENTICE HALL','455679345','HYDERABAD'),('WILEY','8970862340','CHENNAI');
/*!40000 ALTER TABLE `PUBLISHER` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2024-03-23 13:42:01
